<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.kkl.kklplus.b2b.vatti.mapper.VattiAreaMapper" >
    <insert id="insert"  keyProperty="id" useGeneratedKeys="true">
        INSERT INTO vatti_area(
			parent_id,
			parent_ids,
			code,
			name,
			full_name,
			type,
			create_date
		) VALUES (
			#{parentId},
			#{parentIds},
			#{code},
			#{name},
			#{fullName},
			#{type},
			#{createAt}
		)
    </insert>
	<update id="update">
		UPDATE
			vatti_area
		SET
			parent_id = #{parentId},
			parent_ids = #{parentIds},
			code = #{code},
			name = #{name},
			full_name = #{fullName},
			type  = #{type},
			update_date = #{createAt}
		WHERE
			id = #{id}
	</update>
	<select id="findByCode" resultType="com.kkl.kklplus.b2b.vatti.entity.VattiArea">
		SELECT
			code,
			name
		FROM
			vatti_area
		WHERE
			code in(#{regionNo},#{cityNo},#{districtNo})
	</select>
	<select id="findIdByCode" resultType="java.lang.Long">
		SELECT
			id
		FROM
			vatti_area
		WHERE
			code = #{code}
		LIMIT 1
	</select>


</mapper>